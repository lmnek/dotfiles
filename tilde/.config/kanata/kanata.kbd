;; Docs:
;; https://github.com/jtroo/kanata/blob/main/docs/config.adoc
;; https://github.com/jtroo/kanata/blob/main/cfg_samples/fancy_symbols.kbd

(include aliases.kbd)
(include mouse.kbd)

(defcfg
    process-unmapped-keys yes
    log-layer-changes no

    linux-dev-names-exclude (
        "Keychron Keychron K9 Pro"
        "JosefAdamcik Sofle"
        "JosefAdamcik Sofle Keyboard"
    )
    linux-unicode-termination enter
    danger-enable-cmd true
)

(defvar
    tap-time 200
    hold-time 250
)


;; unmapped keyboard
(defsrc
  â‹    f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11   f12    
  `     1    2    3    4    5    6    7    8    9    0    -     =     âŒ« 
  â­¾     q    w    e    r    t    y    u    i    o    p    [     ]            
  caps  a    s    d    f    g    h    j    k    l    ;    '     \     â†©                        
 â€¹â‡§     z    x    c    v    b    n    m    ,    .    /    â‡§â€º                         
 â€¹âŒƒ    â€¹âŒ˜   â€¹â‡              â£              â‡â€º        âŒƒâ€º    
)

;; base layer
(deflayer base
  â‡ª    f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11   f12          
  âˆ…     1    2    3    4    5    6    7    8    9    0    ğŸ”‰    ğŸ”Š   âŒ«
  â­¾     q    w    e    r    t    y    u    i    o    p   @âŒ«+î˜«   @ó°
 @â‹+ğŸ”£  a    s    d    f    g    h    j    k    l   @â†©+âŒƒ @;+ğŸ–°    âˆ…   â†©
 â€¹â‡§     z    x    c    v    b    n    m    ,   @.+ï“·  /    â‡§â€º
 â€¹âŒƒ    â€¹âŒ˜   â€¹â‡             @â£+âŒ˜          @â‡†ğŸ‡¨ğŸ‡¿        âŒƒâ€º           
)

;; doesnt work???
;; (defoverrides
;;   (lsft ğŸ”‰) (ğŸ”…)
;;   (lsft ğŸ”Š) (ğŸ”†)
;; )


;; layer toggle on hold
(defalias
    â‡†nav    (layer-toggle navigation)
    â‡†char   (layer-toggle characters)
    â‡†num    (layer-toggle numbers)
    â‡†mouse  (layer-toggle mouse)
    â‡†ğŸ‡¨ğŸ‡¿     (layer-toggle czechLow)
    â‡†â‡§ğŸ‡¨ğŸ‡¿    (layer-toggle czechUp)
)

;; meta and multi-functional keys
(defalias
  â‹+ğŸ”£    (tap-hold $tap-time $hold-time 
  	       â‹  @â‡†char)

  â†©+âŒƒ     (tap-hold $tap-time $hold-time 
  	       â†©   â€¹âŒƒ   )

  âŒ«+î˜«     (tap-hold $tap-time $hold-time 
  	       âŒ«  @â‡†nav )

  .+ï“·     (tap-hold $tap-time $hold-time 
  	       .  @â‡†num )


  ;+ğŸ–°     (tap-hold $tap-time $hold-time
            ;  @â‡†mouse )

  ;; NOTE: laggy?
  ;;ï‰…+ó±—» (tap-dance $tap-time (
  ;;      (tap-hold $tap-time $hold-time
  ;;	     ;  @â‡†mouse )       ;; 1 tap -> tap: ; hold: mouse layer ï‰…
  ;;      (multi â€¹âŒƒ â€¹â‡§)       ;; 2 taps: Control+Shift ï‰…
  ;;      (multi â€¹âŒƒ â€¹â‡§ â€¹â‡)    ;; 3 taps: Control+Shift+Alt
  ;;))
)

(platform (linux)
  (defalias
        â£+âŒ˜   (tap-hold $tap-time $hold-time 
               â£   â€¹âŒ˜   )
))

;; different meta key for GlazeWM on Windows
(platform (win)
  (defalias
        hyper (multi lctl lsft lalt lmet)
        â£+âŒ˜   (tap-hold $tap-time $hold-time 
               â£  @hyper)
))


;; vim motions emulation (+other features)
(deflayer navigation
  lrld  _    _    _    _    _    _    _    _    _    _    _     _    
  _     _    _    _    _    _    _    _    _    _    _    _     _     _
  _     âˆ…    âˆ…   @î˜«e   âˆ…    âˆ…    âˆ…   @î˜«cu  âˆ…   @î®  @î®‚   _     _
  _     âˆ…    âˆ…   @î˜«cd  âˆ…    âˆ…    â—€    â–¼    â–²    â–¶    _    _     _     _
  _    @î˜«^  @î˜«$   âˆ…    âˆ…   @î˜«b   âˆ…    âˆ…    âˆ…    âˆ…    _    _
  _     _    _              â†©              _         _
)

(deflayer characters
  _     _    _    _    _    _    _    _    _    _    _    _     _
  _     _    _    _    _    _    _    _    _    _    _    _     _     _     
  _    @~   @#   @{   @}   @&   @|   @_   @q    '    `    _     _    
  _    @%    ;   @l   @r   @?   @!    =    -   @+    _    _     _     _          
  _    @^   @$    [    ]   @@   @:   @*   @<   @>    \    _                                                       
  _     _    _                 _           _         _           
)

(deflayer numbers
  _     _    _    _    _    _    _    _    _    _    _    _     _
  _    f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11   f12    _     
  _     _    7    8    9    _    _    _    _    _    _    _     _    
  _     _    4    5    6    _    _    _    _    _    _    _     _     _          
  _     0    1    2    3    _    _    _    _    _    _    _                                                       
  _     _    _                 _           _         _           
)

(deflayer mouse
  _     _    _    _    _    _    _    _    _    _    _    _     _
  _     _    _    _    _    _    _    _    _    _    _    _     _     _
  _     _    _    _    _    _    _    _   â€¹ğŸ–°  @ï‰…â†‘  ğŸ–°â€º   _     _
  _     _    _    _    _    _    _    _   @ï‰…â†  @ï‰…â†“  @ï‰…â†’   _     _     _
  _     _    _    _    _    _    _    ğŸ–°3 @ó° ³â†‘  @ó° ³â†“   _    _ 
  _     _    _                 _           _         _           
)

(deflayer czechLow
  _     _    _    _    _    _    _    _    _    _    _    _     _          
  _     _    _    _    _    _    _    _    _    _    _    _     _     _    
  _   ğŸ”£Ã¤  ğŸ”£Ã©  ğŸ”£Ä›  ğŸ”£Å™  ğŸ”£Å¥  ğŸ”£Ã½  ğŸ”£Å¯  ğŸ”£Ã­  ğŸ”£Ã³    _    _     _
  _   ğŸ”£Ã¡  ğŸ”£Å¡  ğŸ”£Ä    _    _    _  ğŸ”£Ãº    _    _    _    _     _     _                                  
@â‡†â‡§ğŸ‡¨ğŸ‡¿ ğŸ”£Å¾   _   ğŸ”£Ä    _    _  ğŸ”£Åˆ    _    _    _    _    _                     
  _     _    _                 _           _         _           
)

(deflayer czechUp
  _     _    _    _    _    _    _    _    _    _    _    _     _          
  _     _    _    _    _    _    _    _    _    _    _    _     _     _    
  _     _  ğŸ”£Ã‰  ğŸ”£Äš  ğŸ”£Å˜  ğŸ”£Å¤  ğŸ”£Ã  ğŸ”£Å®  ğŸ”£Ã  ğŸ”£Ã“    _    _     _
  _   ğŸ”£Ã  ğŸ”£Å   ğŸ”£Ä    _    _    _  ğŸ”£Ãš    _    _    _    _     _     _                                  
  _   ğŸ”£Å½   _   ğŸ”£ÄŒ    _    _  ğŸ”£Å‡    _    _    _    _    _                     
  _     _    _                 _           _         _           
)
