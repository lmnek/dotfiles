
(defcfg
    process-unmapped-keys yes
    log-layer-changes no

    linux-dev-names-exclude (
        "Keychron Keychron K9 Pro"
        "JosefAdamcik Sofle"
        "JosefAdamcik Sofle Keyboard"
    )
    linux-unicode-termination enter
)

(defvar
    tap-time 200
    hold-time 250
)

(defalias
;; TODO: can remove with fancy symbols
;; characters
	!  S-1
	@  S-2
	#  S-3
	$  S-4 
	%  S-5
	^  S-6
	&  S-7
	*  S-8
	l  S-9
	r  S-0

	~  S-`
	|  S-\
	+  S-=
	{  S-[
	}  S-]
	?  S-/
	:  S-; 
	_  S-- 
	q  S-'
	<  S-,
	>  S-.
;; vim keybindings
	vl   right
	vk   up
	vj   down
	vh   left
	vb   C-left
	ve   C-right
	v^   home
	v$   end  ;; conflicting with 'b' -> unmaped!
	vu   pgup
	vd   pgdn
;; zoom/unzoom
	z-    C--
	z+    C-=
)



;; unmapped keyboard
(defsrc
  esc   f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11   f12    
  `     1    2    3    4    5    6    7    8    9    0    -     =     bspc 
  tab   q    w    e    r    t    y    u    i    o    p    [     ]     \       
  caps  a    s    d    f    g    h    j    k    l    ;    '     ret                              
  lsft  z    x    c    v    b    n    m    ,    .    /    rsft                         
  lctl  lmet lalt             spc               ralt      cmps  rctl    
)

;; base layer
(deflayer base
  caps  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11   f12          
  _     1    2    3    4    5    6    7    8    9    0    _     _    bspc    
  tab   q    w    e    r    t    y    u    i    o    p    @nav  _    _      
  @ch   a    s    d    f    g    h    j    k    l    @ctl _     ret                              
  lsft  z    x    c    v    b    n    m   @,cz  .    _    rsft                          
  _     âˆ…    lalt             @s-m               @cz      cmps  rctl           
)

;; vim motions 
;; + other special keycombinations layer
(deflayer navigation
  _     _    _    _    _    _    _    _    _    _    _    _     _          
  _     _    _    _    _    _    _    _    _    _    _    _     _     _    
  _     _    _   @ve   _   @vu   _    _    _    _    _    _     _     _ 
  _     _    _   @vd   _    _   @vh  @vj  @vk  @vl   _    _     _                              
  _    @z-  @z+   _   @v^  @vb    _    _    _   _    _    _                          
  _     _    _                 ret              _         _     _           
)

(deflayer characters
  _     _    _    _    _    _    _    _    _    _    _    _     _
  _     @~   @@  @#    âˆ…   @%    âˆ…    âˆ…    âˆ…    âˆ…    âˆ…    _     _     _     
  _     \    /   @{   @}   @&   @|   @_   @q    '    `    _     _     _    
  _     âˆ…    ;   @l   @r   @?   @!    =    -   @+    _    _     _           
  _     âˆ…    [    ]   @^   @$   @:   @*   @<   @>    _    _                                                       
  _     _    _                 _                _         _     _           
)

(deflayer czechLow
  _     _    _    _    _    _    _    _    _    _    _    _     _          
  _     _    _    _    _    _    _    _    _    _    _    _     _     _    
  _   ğŸ”£Ã¤  ğŸ”£Ã©  ğŸ”£Ä›  ğŸ”£Å™  ğŸ”£Å¥  ğŸ”£Ã½  ğŸ”£Å¯  ğŸ”£Ã­  ğŸ”£Ã³    _    _     _     _    
  _   ğŸ”£Ã¡  ğŸ”£Å¡  ğŸ”£Ä    _    _    _  ğŸ”£Ãº    _    _    _    _     _                              
@czU  ğŸ”£Å¾   _   ğŸ”£Ä    _    _  ğŸ”£Åˆ    _    _    _    _    _                     
  _     _    _                 bspc             _         _     _           
)

(deflayer czechUp
  _     _    _    _    _    _    _    _    _    _    _    _     _          
  _     _    _    _    _    _    _    _    _    _    _    _     _     _    
  _     _  ğŸ”£Ã‰  ğŸ”£Äš  ğŸ”£Å˜  ğŸ”£Å¤  ğŸ”£Ã  ğŸ”£Å®  ğŸ”£Ã  ğŸ”£Ã“    _    _     _     _    
  _   ğŸ”£Ã  ğŸ”£Å   ğŸ”£Ä    _    _    _  ğŸ”£Ãš    _    _    _    _     _                              
  _   ğŸ”£Å½   _   ğŸ”£ÄŒ    _    _  ğŸ”£Å‡    _    _    _    _    _                     
  _     _    _                 bspc             _         _     _           
)

;; have to do this for Wezterm and 
;; its character input selection
;; -> horrible solution, hopefully will figure out 
;; smthing better later

(defalias
    Ã¤ (macro (ğŸ”£Ã¤) 20 ret)
    Ã© (macro (ğŸ”£Ã©) 20 ret)
    Ä› (macro (ğŸ”£Ä›) 20 ret)
    Å™ (macro (ğŸ”£Å™) 20 ret)
    Å¥ (macro (ğŸ”£Å¥) 20 ret)
    Ã½ (macro (ğŸ”£Ã½) 20 ret)
    Å¯ (macro (ğŸ”£Å¯) 20 ret)
    Ã­ (macro (ğŸ”£Ã­) 20 ret)
    Ã³ (macro (ğŸ”£Ã³) 20 ret)
    Ã¡ (macro (ğŸ”£Ã¡) 20 ret)
    Å¡ (macro (ğŸ”£Å¡) 20 ret)
    Ä (macro (ğŸ”£Ä) 20 ret)
    Ãº (macro (ğŸ”£Ãº) 20 ret)
    Å¾ (macro (ğŸ”£Å¾) 20 ret)
    Ä (macro (ğŸ”£Ä) 20 ret)
    Åˆ (macro (ğŸ”£Åˆ) 20 ret)
    Ã„ (macro (ğŸ”£Ã„) 20 ret)
    Ã‰ (macro (ğŸ”£Ã‰) 20 ret)
    Äš (macro (ğŸ”£Äš) 20 ret)
    Å˜ (macro (ğŸ”£Å˜) 20 ret)
    Å¤ (macro (ğŸ”£Å¤) 20 ret)
    Ã (macro (ğŸ”£Ã) 20 ret)
    Å® (macro (ğŸ”£Å®) 20 ret)
    Ã (macro (ğŸ”£Ã) 20 ret)
    Ã“ (macro (ğŸ”£Ã“) 20 ret)
    Ã (macro (ğŸ”£Ã) 20 ret)
    Å  (macro (ğŸ”£Å ) 20 ret)
    Ä (macro (ğŸ”£Ä) 20 ret)
    Ãš (macro (ğŸ”£Ãš) 20 ret)
    Å½ (macro (ğŸ”£Å½) 20 ret)
    ÄŒ (macro (ğŸ”£ÄŒ) 20 ret)
    Å‡ (macro (ğŸ”£Å‡) 20 ret)
)

(deflayer czechLow2
  _     _    _    _    _    _    _    _    _    _    _    _     _          
  _     _    _    _    _    _    _    _    _    _    _    _     _     _    
  _    @Ã¤   @Ã©   @Ä›   @Å™   @Å¥   @Ã½   @Å¯   @Ã­   @Ã³    _    _     _     _    
  _    @Ã¡   @Å¡   @Ä    _    _    _   @Ãº    _    _    _    _     _                              
@czU2  @Å¾    _   @Ä    _    _   @Åˆ    _    _    _    _    _                     
  _     _    _                 bspc             _         _     _           
)

(deflayer czechUp2
  _     _    _    _    _    _    _    _    _    _    _    _     _          
  _     _    _    _    _    _    _    _    _    _    _    _     _     _    
  _    @Ã„   @Ã‰   @Äš   @Å˜   @Å¤   @Ã   @Å®   @Ã   @Ã“    _    _     _     _    
  _    @Ã   @Å    @Ä    _    _    _   @Ãš    _    _    _    _     _                              
  _    @Å½    _   @ÄŒ    _    _   @Å‡    _    _    _    _    _                     
  _     _    _                 bspc             _         _     _           
)

;; meta keys and layer switching
(defalias
  ch 	(tap-hold $tap-time $hold-time 
  		esc 
		(layer-toggle characters))
  ctl 	(tap-hold $tap-time $hold-time 
  		ret 
		lctl)
  nav   (tap-hold $tap-time $hold-time 
  		bspc 
		(layer-toggle navigation))
  s-m 	(tap-hold $tap-time $hold-time 
  		spc 
		lmet)
  cz    (layer-toggle czechLow)
  czU   (layer-toggle czechUp)
  ;; not bound right meow...
  czU2  (layer-toggle czechUp2)
  ,cz   (tap-hold $tap-time $hold-time 
  		,
		(layer-toggle czechLow2))
)
